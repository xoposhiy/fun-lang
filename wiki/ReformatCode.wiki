#summary API и утилита для переформатирования кода согласно некоторым правилам.
#labels Phase-Requirements

[http://code.google.com/p/fun-lang/issues/detail?id=2 Issue 2]

= Правила форматирования кода =
==Варианты форматирования определения функции==
Однострочный:
{{{
fun funName(arg1 arg2) <body>
}}}
Где body отформатировано в однострочном варианте.

Многострочный:
{{{
fun funName(arg1 arg2) 
  <body>
}}}
Где body отформатировано как угодно.

==Варианты форматирования вызова функции==
Однострочный:
{{{
f(<arg> <arg>)
}}}
Где arg отформатированы в однострочном варианте.

Многострочный:
{{{
f(<arg> <arg> ... <arg>
  <arg> <arg>
)
}}}
arg может быть отформатирован как угодно, если он один на строке, иначе arg должен быть отформатирован однострочно.

При использовании многострочного варианта форматирования используются отступы:
{{{
f(
  1
  +(2 1)
  *(
    2
    5
  )
) 
}}} 

==Выбор варианта форматирования==
По возможности предложение должно быть отформатировано в однострочном варианте.

Если в однострочном варианте предложение оказывается слишком длинным (длиннее заданного числа знаков), можно применять многострочный вариант.

Есть набор функций, которые по возможности должны форматироваться в многострочном варианте. По умолчанию в этом наборе присутствует лишь одна функция `if`. Для каждой такой функции должна быть возможность указать предпочитаемый шаблон разбиения на строки.

Например, для функции `if` этот шаблон такой: первый аргумент в той же строке, что и имя функции `if`, остальные аргументы каждый в своей строке. Пример такого форматирования:
{{{
if(>(a 0)
  42()
  +(
    1
    2
  )
}}}


=API для форматирования=
TODO: Разработать API...


= Утилита =
Утилита представляет собой консольное приложение, простую обертку над соответствующим API. Утилита читает текст из стандартного потока ввода (с консоли) и выводит отформатированный текст в стандартный поток вывода.

При запуске утилите можно указать имя файла с настройками форматирования.

==Ключи==
`-settings:filename` настройки форматирования брать из файла filename. Формат файла необходимо разработать.

`-h` вывод справки способу использования и формату файла с настройками.

----
[Tools]